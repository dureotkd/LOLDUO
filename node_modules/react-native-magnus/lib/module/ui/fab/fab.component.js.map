{"version":3,"sources":["fab.component.tsx"],"names":["FabBase","props","active","state","icon","colorProp","color","fontSize","activeIcon","React","isValidElement","animated","onClose","h","bottom","useNativeDriver","Animated","spring","animation","toValue","start","actionsAnimation","actionsBottomAnimation","updateState","onOpen","LayoutAnimation","configureNext","duration","create","type","Types","easeInEaseOut","property","Properties","opacity","reset","nextState","callback","setState","onPressBackdrop","computedStyles","position","right","rest","animatedViewStyle","animatedVisibleView","fadeAnimation","transform","rotate","interpolate","inputRange","outputRange","button","animateButton","getIcon","computedStyle","children","animatedActionsStyle","actionsStyles","actions","Children","map","child","cloneElement","mb","onPress","e","theme","overlayColor","overlayOpacity","calculatedOverlayColor","colors","alpha","rgb","string","overlay","backgroundColor","handlePressBackdrop","mainBottomAnimation","Value","visibleAnimation","openOnMount","showBackground","renderTappableBackground","renderActions","renderMainButton","Component","Fab","p","rounded","bg","shadow","shadowColor"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  Animated,\r\n  TouchableOpacity,\r\n  LayoutAnimation,\r\n  GestureResponderEvent,\r\n} from 'react-native';\r\nimport color from 'color';\r\n\r\nimport { getThemeColor } from '../../theme/theme.service';\r\nimport { getStyle } from './fab.style';\r\nimport { ThemeContext, ThemeType } from '../../theme';\r\nimport { Button } from '../button/button.component';\r\nimport { Icon } from '../icon/icon.component';\r\nimport { FabProps } from './fab.type';\r\nimport { withDefaultProps } from '../../utilities/withDefaultProps';\r\nimport { DefaultProps } from '../../types';\r\n\r\ninterface FabState {\r\n  active: boolean;\r\n}\r\n\r\nclass FabBase extends React.Component<\r\n  FabProps & DefaultProps<FabProps>,\r\n  FabState\r\n> {\r\n  animation: any;\r\n  fadeAnimation: any;\r\n  visibleAnimation: any;\r\n  actionsAnimation: any;\r\n  mainBottomAnimation: any;\r\n  actionsBottomAnimation: any;\r\n\r\n  constructor(props: FabProps & DefaultProps<FabProps>) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      active: false,\r\n    };\r\n\r\n    this.mainBottomAnimation = new Animated.Value(props.bottom ?? 0);\r\n    this.actionsBottomAnimation = new Animated.Value(\r\n      (props.h ?? 40) + (props.bottom ?? 40) + 30\r\n    );\r\n    this.animation = new Animated.Value(0);\r\n    this.actionsAnimation = new Animated.Value(0);\r\n    this.visibleAnimation = new Animated.Value(0);\r\n    this.fadeAnimation = new Animated.Value(1);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { openOnMount } = this.props;\r\n\r\n    if (openOnMount) {\r\n      this.animateButton();\r\n    }\r\n  }\r\n\r\n  getIcon = () => {\r\n    const { active } = this.state;\r\n    const { icon, color: colorProp, fontSize, activeIcon } = this.props;\r\n\r\n    if (active === false) {\r\n      if (typeof icon === 'string') {\r\n        return <Icon name={icon} fontSize={fontSize} color={colorProp} />;\r\n      }\r\n\r\n      if (React.isValidElement(icon)) {\r\n        return icon;\r\n      }\r\n    } else {\r\n      if (typeof activeIcon === 'string') {\r\n        return <Icon name={activeIcon} fontSize={fontSize} color={colorProp} />;\r\n      }\r\n\r\n      if (React.isValidElement(activeIcon)) {\r\n        return activeIcon;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  reset = () => {\r\n    const {\r\n      animated,\r\n      onClose,\r\n      h,\r\n      bottom,\r\n      useNativeDriver = false,\r\n    } = this.props;\r\n\r\n    if (animated) {\r\n      Animated.spring(this.animation, {\r\n        toValue: 0,\r\n        useNativeDriver: useNativeDriver,\r\n      }).start();\r\n      Animated.spring(this.actionsAnimation, {\r\n        toValue: 0,\r\n        useNativeDriver,\r\n      }).start();\r\n      Animated.spring(this.actionsBottomAnimation, {\r\n        toValue: (h ?? 40) + (bottom ?? 40),\r\n        useNativeDriver,\r\n      }).start();\r\n    }\r\n    this.updateState(\r\n      {\r\n        active: false,\r\n      },\r\n      () => {\r\n        if (onClose) {\r\n          onClose();\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  animateButton = () => {\r\n    const { animated, onOpen, h, bottom, useNativeDriver = false } = this.props;\r\n    const { active } = this.state;\r\n\r\n    if (!active) {\r\n      if (animated) {\r\n        Animated.spring(this.animation, {\r\n          toValue: 1,\r\n          useNativeDriver,\r\n        }).start();\r\n      }\r\n\r\n      if (animated) {\r\n        Animated.spring(this.actionsAnimation, {\r\n          toValue: 1,\r\n          useNativeDriver,\r\n        }).start();\r\n        Animated.spring(this.actionsBottomAnimation, {\r\n          toValue: (h ?? 40) + (bottom ?? 40) + 20,\r\n          useNativeDriver,\r\n        }).start();\r\n\r\n        // only execute it for the background to prevent extra calls\r\n        LayoutAnimation.configureNext({\r\n          duration: 180,\r\n          create: {\r\n            type: LayoutAnimation.Types.easeInEaseOut,\r\n            property: LayoutAnimation.Properties.opacity,\r\n          },\r\n        });\r\n      }\r\n\r\n      this.updateState(\r\n        {\r\n          active: true,\r\n        },\r\n        () => {\r\n          if (onOpen) {\r\n            onOpen();\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      this.reset();\r\n    }\r\n  };\r\n\r\n  updateState = (nextState: FabState, callback: any) => {\r\n    this.setState(nextState, () => {\r\n      if (callback) {\r\n        callback();\r\n      }\r\n    });\r\n  };\r\n\r\n  handlePressBackdrop = () => {\r\n    const { onPressBackdrop } = this.props;\r\n\r\n    if (onPressBackdrop) {\r\n      onPressBackdrop();\r\n    }\r\n    this.reset();\r\n  };\r\n\r\n  handlePressItem = () => {\r\n    this.reset();\r\n  };\r\n\r\n  renderMainButton = (computedStyles: any) => {\r\n    const {\r\n      animated,\r\n      position,\r\n      right,\r\n      bottom,\r\n      // shadow,\r\n      // shadowColor,\r\n      ...rest\r\n    } = this.props;\r\n    const { active } = this.state;\r\n\r\n    let animatedViewStyle;\r\n    let animatedVisibleView;\r\n\r\n    if (animated) {\r\n      animatedVisibleView = {\r\n        opacity: this.fadeAnimation,\r\n      };\r\n\r\n      animatedViewStyle = {\r\n        opacity: this.fadeAnimation,\r\n        transform: [\r\n          {\r\n            rotate: this.animation.interpolate({\r\n              inputRange: [0, 1],\r\n              outputRange: ['0deg', '180deg'],\r\n            }),\r\n          },\r\n        ],\r\n      };\r\n    } else if (active) {\r\n      animatedVisibleView = {};\r\n\r\n      animatedViewStyle = {\r\n        opacity: this.fadeAnimation,\r\n        transform: [\r\n          {\r\n            rotate: '45deg',\r\n          },\r\n        ],\r\n      };\r\n    } else {\r\n      animatedVisibleView = {};\r\n\r\n      animatedViewStyle = {\r\n        transform: [\r\n          {\r\n            rotate: '0deg',\r\n          },\r\n        ],\r\n      };\r\n    }\r\n\r\n    return (\r\n      <Animated.View\r\n        style={[computedStyles.button, animatedVisibleView]}\r\n        accessible\r\n        accessibilityLabel=\"Floating Action Button\"\r\n      >\r\n        <Button mb={bottom} mr={right} onPress={this.animateButton} {...rest}>\r\n          <Animated.View style={[animatedViewStyle]}>\r\n            {this.getIcon()}\r\n          </Animated.View>\r\n        </Button>\r\n      </Animated.View>\r\n    );\r\n  };\r\n\r\n  renderActions = (computedStyle: any) => {\r\n    const { animated, right, children } = this.props;\r\n    const { active } = this.state;\r\n\r\n    let animatedActionsStyle;\r\n    if (animated) {\r\n      animatedActionsStyle = {\r\n        opacity: this.actionsAnimation.interpolate({\r\n          inputRange: [0, 1],\r\n          outputRange: [0, 1],\r\n        }),\r\n      };\r\n    } else {\r\n      animatedActionsStyle = { opacity: active ? 1 : 0 };\r\n    }\r\n    const actionsStyles = [\r\n      computedStyle.actions,\r\n      animatedActionsStyle,\r\n      {\r\n        right,\r\n        bottom: this.actionsBottomAnimation,\r\n      },\r\n    ];\r\n    return (\r\n      <Animated.View style={actionsStyles} pointerEvents=\"box-none\">\r\n        {React.Children.map(children, (child: React.ReactElement) => {\r\n          return React.cloneElement(child, {\r\n            mb: child.props.mb ? child.props.mb : 'lg',\r\n            onPress: (e: GestureResponderEvent) => {\r\n              // if fab is not active, don't allow pressing buttons\r\n              if (!active) return;\r\n\r\n              if (child.props.onPress) {\r\n                child.props.onPress(e);\r\n              }\r\n\r\n              this.reset();\r\n            },\r\n          });\r\n        })}\r\n      </Animated.View>\r\n    );\r\n  };\r\n\r\n  renderTappableBackground = (theme: ThemeType, computedStyle: any) => {\r\n    const { overlayColor, overlayOpacity } = this.props;\r\n\r\n    const calculatedOverlayColor = color(\r\n      getThemeColor(theme.colors, overlayColor)\r\n    )\r\n      .alpha(overlayOpacity ?? 1)\r\n      .rgb()\r\n      .string();\r\n\r\n    // TouchableOpacity don't require a child\r\n    return (\r\n      <TouchableOpacity\r\n        activeOpacity={1}\r\n        style={[\r\n          computedStyle.overlay,\r\n          { backgroundColor: calculatedOverlayColor },\r\n        ]}\r\n        onPress={this.handlePressBackdrop}\r\n      />\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { active } = this.state;\r\n    const { showBackground } = this.props;\r\n\r\n    return (\r\n      <ThemeContext.Consumer>\r\n        {({ theme }) => {\r\n          const computedStyle = getStyle(theme, this.props);\r\n\r\n          return (\r\n            <Animated.View\r\n              pointerEvents={'box-none'}\r\n              style={computedStyle.overlay}\r\n            >\r\n              {active &&\r\n                showBackground &&\r\n                this.renderTappableBackground(theme, computedStyle)}\r\n              {this.renderActions(computedStyle)}\r\n              {this.renderMainButton(computedStyle)}\r\n            </Animated.View>\r\n          );\r\n        }}\r\n      </ThemeContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nconst Fab = withDefaultProps<FabProps>(FabBase, 'Fab', {\r\n  color: 'white',\r\n  fontSize: '4xl',\r\n  p: 18,\r\n  overlayColor: 'gray900',\r\n  overlayOpacity: 0.5,\r\n  position: 'absolute',\r\n  openOnMount: false,\r\n  showBackground: true,\r\n  animated: true,\r\n  bottom: 30,\r\n  right: 30,\r\n  icon: 'plus',\r\n  activeIcon: 'close',\r\n  rounded: 'circle',\r\n  bg: 'blue500',\r\n  useNativeDriver: false,\r\n  shadow: 'lg',\r\n  shadowColor: 'gray900',\r\n});\r\n\r\nexport { Fab };\r\n"]}