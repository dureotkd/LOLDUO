{"version":3,"sources":["snackbar.component.tsx"],"names":["Snackbar","props","message","config","id","Math","random","toString","onClose","hide","requestAnimationFrame","setState","toasts","state","filter","t","map","toast","placement","offset","style","bottom","undefined","top","justifyContent","flexDirection","Platform","OS","styles","container","rest","Component","StyleSheet","create","position","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n  ViewStyle,\r\n} from 'react-native';\r\n\r\nimport { Toast } from './toast.component';\r\nimport {\r\n  SnackbarState,\r\n  SnackbarProps,\r\n  SnackbarContainerProps,\r\n} from './snackbar.type';\r\nclass Snackbar extends Component<\r\n  SnackbarProps & SnackbarContainerProps,\r\n  SnackbarState\r\n> {\r\n  constructor(props: SnackbarProps & SnackbarContainerProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      toasts: [],\r\n    };\r\n  }\r\n\r\n  static defaultProps = {\r\n    placement: 'bottom',\r\n    offset: 0,\r\n  };\r\n\r\n  /**\r\n   * adds new toast in the snackbar\r\n   *\r\n   * @param message\r\n   * @param config\r\n   */\r\n  show = (message: string | JSX.Element, config?: SnackbarProps) => {\r\n    let id = config?.id || Math.random().toString();\r\n    const onClose = () => this.hide(id);\r\n\r\n    requestAnimationFrame(() => {\r\n      this.setState({\r\n        toasts: this.state.toasts.filter((t) => t.id !== id),\r\n      });\r\n      this.setState({\r\n        toasts: [\r\n          {\r\n            id,\r\n            message,\r\n            onClose,\r\n            ...config,\r\n          },\r\n          ...this.state.toasts,\r\n        ],\r\n      });\r\n    });\r\n\r\n    return id;\r\n  };\r\n\r\n  /**\r\n   * updates a existing toast\r\n   *\r\n   * @param id\r\n   * @param message\r\n   * @param config\r\n   */\r\n  update = (\r\n    id: string,\r\n    message: string | JSX.Element,\r\n    config?: SnackbarProps\r\n  ) => {\r\n    this.setState({\r\n      toasts: this.state.toasts.map((toast) =>\r\n        toast.id === id ? { ...toast, message, ...config } : toast\r\n      ),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * removes a toast from the snackbar\r\n   *\r\n   * @param id\r\n   */\r\n  hide = (id: string) => {\r\n    this.setState({\r\n      toasts: this.state.toasts.filter((t) => t.id !== id),\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { toasts } = this.state;\r\n    const { placement, offset } = this.props;\r\n\r\n    let style: ViewStyle = {\r\n      bottom: placement === 'bottom' ? offset : undefined,\r\n      top: placement === 'top' ? offset : undefined,\r\n      justifyContent: placement === 'bottom' ? 'flex-end' : 'flex-start',\r\n      flexDirection: placement === 'bottom' ? 'column' : 'column-reverse',\r\n    };\r\n\r\n    return (\r\n      <KeyboardAvoidingView\r\n        behavior={Platform.OS === 'ios' ? 'position' : undefined}\r\n        style={[styles.container, style]}\r\n        pointerEvents=\"box-none\"\r\n      >\r\n        {toasts.map((toast) => {\r\n          const { message, id, ...rest } = toast;\r\n\r\n          return (\r\n            <Toast key={id} {...this.props} {...rest}>\r\n              {message}\r\n            </Toast>\r\n          );\r\n        })}\r\n      </KeyboardAvoidingView>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    position: 'absolute',\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nexport { Snackbar };\r\n"]}