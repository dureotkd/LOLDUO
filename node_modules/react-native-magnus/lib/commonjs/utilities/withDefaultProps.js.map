{"version":3,"sources":["withDefaultProps.tsx"],"names":["withDefaultProps","WrappedComponent","componentName","defaultProps","theme","context","props","propsFromTheme","components","variant","variants","mergedProps","React","PureComponent","ThemeContext"],"mappings":"u7BAAA,oDACA,+B,mlDAGO,QAASA,CAAAA,gBAAT,CAILC,gBAJK,CAKLC,aALK,CAMLC,YANK,CAOL,kBAEA,whBAIW,oIACP,GAAMC,CAAAA,KAAK,CAAG,KAAKC,OAAL,CAAaD,KAA3B,CAEA,GAAI,CAACF,aAAL,CAAoB,CAClB,sCACKC,YADL,EAEK,KAAKG,KAFV,EAID,CAED,GAAIC,CAAAA,cAAc,0EACZH,KAAK,CAACI,UADM,4CACZ,kBAAmBN,aAAnB,CADY,+DACyB,EADzB,EAEZ,KAAKI,KAAL,CAAWG,OAAX,+CAEDL,KAAK,CAACI,UAFL,oEAED,mBAAmBN,aAAnB,CAFC,wEAED,sBAAmCQ,QAFlC,iDAED,uBAA8C,KAAKJ,KAAL,CAAWG,OAAzD,CAFC,iEAGA,EAHA,CAFY,CAAlB,CAQA,MAAOF,CAAAA,cAAc,CAACG,QAAtB,CAEA,GAAMC,CAAAA,WAAW,8CACZR,YADY,EAEZI,cAFY,EAGZ,KAAKD,KAHO,CAAjB,CAMA,MAAO,8BAAC,gBAAD,0BAAsBK,WAAtB,mEAAP,CACD,CA/BH,oBAAqBC,eAAMC,aAA3B,oDACuBC,mBADvB,QAiCD","sourcesContent":["import React from 'react';\r\nimport { ThemeContext, ThemeType } from '../theme';\r\nimport { DefaultProps, VariantPropsType } from '../types';\r\n\r\nexport function withDefaultProps<\r\n  Props extends object,\r\n  Defaults extends DefaultProps<Props> = {}\r\n>(\r\n  WrappedComponent: React.ComponentClass<Props & Defaults>,\r\n  componentName: keyof NonNullable<ThemeType['components']>,\r\n  defaultProps: Defaults\r\n) {\r\n  type Variant = Props & VariantPropsType;\r\n  return class extends React.PureComponent<Variant> {\r\n    static contextType = ThemeContext;\r\n    context!: React.ContextType<typeof ThemeContext>;\r\n\r\n    render() {\r\n      const theme = this.context.theme;\r\n\r\n      if (!componentName) {\r\n        return {\r\n          ...defaultProps,\r\n          ...this.props,\r\n        };\r\n      }\r\n\r\n      let propsFromTheme = {\r\n        ...(theme.components?.[componentName] ?? {}),\r\n        ...(this.props.variant &&\r\n          //@ts-ignore\r\n          (theme.components?.[componentName]?.variants?.[this.props.variant] ??\r\n            {})),\r\n      };\r\n\r\n      delete propsFromTheme.variants;\r\n\r\n      const mergedProps = {\r\n        ...defaultProps,\r\n        ...propsFromTheme,\r\n        ...this.props,\r\n      };\r\n\r\n      return <WrappedComponent {...mergedProps} />;\r\n    }\r\n  };\r\n}\r\n"]}